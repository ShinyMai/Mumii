(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[314],{1073:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var s=a(4568),i=a(7708),n=a(9457),r=a(7179),c=a(7620),o=a(9037);let l=(0,o.A)("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);var d=a(6226);let m=(0,o.A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var h=a(7406),u=a(3262),g=a(1686),p=a(5104),x=a(5890);let v=[{id:"1",name:"B\xfan Chả Hương Li\xean",cuisine:"Vietnamese",rating:4.8,reviewCount:1250,priceRange:"50,000 - 100,000 VND",distance:"0.5 km",image:"/api/placeholder/300/200",description:"Famous bun cha where Obama dined with Anthony Bourdain",openHours:"9:00 AM - 10:00 PM",isHiddenGem:!0,mood:["traditional","comfort"],tags:["bun-cha","famous","local-favorite"],coordinates:{lat:21.0285,lng:105.8542}},{id:"2",name:"Madame Hi\xean",cuisine:"Vietnamese Fine Dining",rating:4.6,reviewCount:580,priceRange:"200,000 - 400,000 VND",distance:"1.1 km",image:"/api/placeholder/300/200",description:"Elegant Vietnamese cuisine in a beautifully restored colonial villa",openHours:"11:00 AM - 2:00 PM, 6:00 PM - 10:00 PM",isHiddenGem:!1,mood:["romantic","elegant"],tags:["fine-dining","colonial","upscale"],coordinates:{lat:21.0245,lng:105.8525}},{id:"3",name:"Phở G\xe0 Nghĩa T\xe2n",cuisine:"Vietnamese",rating:4.7,reviewCount:890,priceRange:"30,000 - 60,000 VND",distance:"0.3 km",image:"/api/placeholder/300/200",description:"Best chicken pho in Hanoi, family recipe for 3 generations",openHours:"6:00 AM - 10:00 PM",isHiddenGem:!0,mood:["traditional","comfort"],tags:["pho","chicken","family-recipe"],coordinates:{lat:21.031,lng:105.852}},{id:"4",name:"Green Tangerine",cuisine:"French-Vietnamese Fusion",rating:4.5,reviewCount:670,priceRange:"300,000 - 600,000 VND",distance:"1.5 km",image:"/api/placeholder/300/200",description:"Innovative fusion cuisine in a charming French colonial house",openHours:"12:00 PM - 2:00 PM, 6:30 PM - 10:00 PM",isHiddenGem:!1,mood:["fine-dining","romantic"],tags:["fusion","french","colonial"],coordinates:{lat:21.028,lng:105.848}},{id:"5",name:"B\xe1nh Cuốn B\xe0 Xu\xe2n",cuisine:"Vietnamese",rating:4.5,reviewCount:320,priceRange:"25,000 - 50,000 VND",distance:"0.8 km",image:"/api/placeholder/300/200",description:"Traditional rice rolls with the most delicate texture in Hanoi",openHours:"7:00 AM - 11:00 AM",isHiddenGem:!0,mood:["traditional","authentic"],tags:["banh-cuon","breakfast","traditional"],coordinates:{lat:21.032,lng:105.851}},{id:"6",name:"Cầu Gỗ Restaurant",cuisine:"Vietnamese Seafood",rating:4.4,reviewCount:890,priceRange:"150,000 - 300,000 VND",distance:"2.5 km",image:"/api/placeholder/300/200",description:"Fresh seafood with stunning lake views and live music",openHours:"11:00 AM - 11:00 PM",isHiddenGem:!1,mood:["casual","scenic"],tags:["seafood","lake-view","live-music"],coordinates:{lat:21.02,lng:105.845}}];function f(){let{t:e}=(0,n.s)("common"),{addFavorite:t,removeFavorite:a,isFavorite:o}=(0,r.rB)(),f=(0,r.dk)(),[y,b]=(0,c.useState)(""),[w,j]=(0,c.useState)("all"),[N,k]=(0,c.useState)(!1),C=async e=>{o(e.id)?await a(e.id):await t({id:e.id,name:e.name,cuisine:e.cuisine,location:e.distance,rating:e.rating,priceRange:e.priceRange,coordinates:e.coordinates,image:e.image,description:e.description,features:e.tags,hours:e.openHours,cached:!0})},D=v.filter(e=>{let t=e.name.toLowerCase().includes(y.toLowerCase())||e.cuisine.toLowerCase().includes(y.toLowerCase())||e.description.toLowerCase().includes(y.toLowerCase()),a="all"===w||e.mood.includes(w);return t&&a});return(0,s.jsxs)(i.mc,{className:"py-6 space-y-6",children:[!f&&(0,s.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 flex items-center space-x-2",children:[(0,s.jsx)(l,{className:"w-5 h-5 text-amber-600"}),(0,s.jsx)("span",{className:"text-amber-800 text-sm",children:e("offline.message","You are offline. Showing cached content.")})]}),(0,s.jsx)(i.wn,{children:(0,s.jsxs)("div",{className:"text-center space-y-4",children:[(0,s.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["\uD83C\uDF7D️ ",e("explore.title","Kh\xe1m ph\xe1 nh\xe0 h\xe0ng")]}),(0,s.jsx)("p",{className:"text-gray-600 max-w-2xl mx-auto",children:e("explore.subtitle","T\xecm kiếm trải nghiệm ẩm thực ho\xe0n hảo dựa tr\xean t\xe2m trạng v\xe0 sở th\xedch của bạn")})]})}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)("input",{type:"text",placeholder:e("search.placeholder","T\xecm nh\xe0 h\xe0ng, m\xf3n ăn..."),value:y,onChange:e=>b(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("button",{onClick:()=>k(!N),className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[(0,s.jsx)(m,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:e("filter.filters","Bộ lọc")})]}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:[D.length," ",e("results","kết quả")]})]}),N&&(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-900 mb-3",children:e("filter.mood","T\xe2m trạng")}),(0,s.jsx)("div",{className:"grid grid-cols-3 sm:grid-cols-4 lg:grid-cols-6 gap-2",children:[{value:"all",label:"All",icon:"\uD83C\uDF7D️"},{value:"traditional",label:"Traditional",icon:"\uD83C\uDFEE"},{value:"comfort",label:"Comfort",icon:"\uD83D\uDE0C"},{value:"romantic",label:"Romantic",icon:"\uD83D\uDC95"},{value:"elegant",label:"Elegant",icon:"✨"},{value:"casual",label:"Casual",icon:"\uD83D\uDE0A"},{value:"fine-dining",label:"Fine Dining",icon:"\uD83C\uDF7E"},{value:"scenic",label:"Scenic",icon:"\uD83C\uDF05"},{value:"authentic",label:"Authentic",icon:"\uD83C\uDFDB️"}].map(e=>(0,s.jsxs)("button",{onClick:()=>j(e.value),className:"p-3 rounded-lg text-center transition-colors ".concat(w===e.value?"bg-orange-100 border-2 border-orange-500 text-orange-700":"bg-white border border-gray-200 hover:bg-gray-50"),children:[(0,s.jsx)("div",{className:"text-2xl mb-1",children:e.icon}),(0,s.jsx)("div",{className:"text-xs font-medium",children:e.label})]},e.value))})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map(t=>(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[(0,s.jsxs)("div",{className:"relative h-48 bg-gray-200",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),t.isHiddenGem&&(0,s.jsxs)("div",{className:"absolute top-3 left-3 bg-yellow-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:["\uD83D\uDC8E ",e("hiddenGem","Ngọc ẩn")]}),(0,s.jsxs)("div",{className:"absolute bottom-3 left-3 right-3 text-white",children:[(0,s.jsx)("h3",{className:"font-bold text-lg",children:t.name}),(0,s.jsx)("p",{className:"text-sm opacity-90",children:t.cuisine})]})]}),(0,s.jsxs)("div",{className:"p-4 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(h.A,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,s.jsx)("span",{className:"font-medium",children:t.rating}),(0,s.jsxs)("span",{className:"text-gray-500",children:["(",t.reviewCount,")"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-gray-500",children:[(0,s.jsx)(u.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:t.distance})]})]}),(0,s.jsx)("p",{className:"text-gray-600 text-sm line-clamp-2",children:t.description}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:t.mood.slice(0,2).map(e=>(0,s.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:e},e))}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-sm",children:[(0,s.jsx)(g.A,{className:"w-4 h-4 text-green-600"}),(0,s.jsx)("span",{className:"text-gray-600",children:t.priceRange})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-sm",children:[(0,s.jsx)(p.A,{className:"w-4 h-4 text-blue-600"}),(0,s.jsx)("span",{className:"text-gray-600",children:t.openHours})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 pt-2",children:[(0,s.jsxs)("button",{onClick:()=>C(t),className:"flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ".concat(o(t.id)?"bg-red-100 text-red-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[(0,s.jsx)(x.A,{className:"w-4 h-4 ".concat(o(t.id)?"fill-current":"")}),(0,s.jsx)("span",{className:"text-sm",children:o(t.id)?e("favorites.saved","Đ\xe3 lưu"):e("favorites.save","Lưu")})]}),(0,s.jsx)(i.Tf,{title:t.name,description:t.description,hashtags:["Mumii","FoodTravel",t.cuisine.replace(/\s+/g,"")],className:"scale-90"})]})]})]},t.id))}),0===D.length&&(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDD0D"}),(0,s.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:e("search.noResults","Kh\xf4ng t\xecm thấy nh\xe0 h\xe0ng n\xe0o")}),(0,s.jsx)("p",{className:"text-gray-600",children:e("search.tryDifferent","Thử điều chỉnh từ kh\xf3a t\xecm kiếm hoặc bộ lọc của bạn")})]})]})}},1094:(e,t,a)=>{Promise.resolve().then(a.bind(a,1073))},1686:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9037).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},5104:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9037).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},5890:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9037).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},7179:(e,t,a)=>{"use strict";a.d(t,{rB:()=>r,dk:()=>c});var s=a(7620);class i{async init(){return new Promise((e,t)=>{let a=indexedDB.open(this.dbName,this.version);a.onerror=()=>t(a.error),a.onsuccess=()=>{this.db=a.result,e()},a.onupgradeneeded=e=>{let t=e.target.result;if(!t.objectStoreNames.contains("restaurants")){let e=t.createObjectStore("restaurants",{keyPath:"id"});e.createIndex("location","location",{unique:!1}),e.createIndex("cuisine","cuisine",{unique:!1})}t.objectStoreNames.contains("itineraries")||t.createObjectStore("itineraries",{keyPath:"id"}),t.objectStoreNames.contains("challenges")||t.createObjectStore("challenges",{keyPath:"id"}),t.objectStoreNames.contains("user_data")||t.createObjectStore("user_data",{keyPath:"key"}),t.objectStoreNames.contains("api_cache")||t.createObjectStore("api_cache",{keyPath:"url"}).createIndex("timestamp","timestamp",{unique:!1})}})}async set(e,t){return this.db||await this.init(),new Promise((a,s)=>{let i=this.db.transaction([e],"readwrite").objectStore(e).put(t);i.onerror=()=>s(i.error),i.onsuccess=()=>a()})}async get(e,t){return this.db||await this.init(),new Promise((a,s)=>{let i=this.db.transaction([e],"readonly").objectStore(e).get(t);i.onerror=()=>s(i.error),i.onsuccess=()=>a(i.result)})}async getAll(e){return this.db||await this.init(),new Promise((t,a)=>{let s=this.db.transaction([e],"readonly").objectStore(e).getAll();s.onerror=()=>a(s.error),s.onsuccess=()=>t(s.result)})}async delete(e,t){return this.db||await this.init(),new Promise((a,s)=>{let i=this.db.transaction([e],"readwrite").objectStore(e).delete(t);i.onerror=()=>s(i.error),i.onsuccess=()=>a()})}async clear(e){return this.db||await this.init(),new Promise((t,a)=>{let s=this.db.transaction([e],"readwrite").objectStore(e).clear();s.onerror=()=>a(s.error),s.onsuccess=()=>t()})}async cacheApiResponse(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e5,s={url:e,data:t,timestamp:Date.now(),ttl:a};await this.set("api_cache",s)}async getCachedApiResponse(e){let t=await this.get("api_cache",e);return t?Date.now()-t.timestamp>t.ttl?(await this.delete("api_cache",e),null):t.data:null}async saveFavoriteRestaurant(e){let t=[...(await this.getUserData("favorites")||[]).filter(t=>t.id!==e.id),e];await this.setUserData("favorites",t)}async removeFavoriteRestaurant(e){let t=(await this.getUserData("favorites")||[]).filter(t=>t.id!==e);await this.setUserData("favorites",t)}async getFavoriteRestaurants(){return await this.getUserData("favorites")||[]}async setUserData(e,t){await this.set("user_data",{key:e,value:t})}async getUserData(e){let t=await this.get("user_data",e);return null==t?void 0:t.value}async cleanExpiredCache(){return this.db||await this.init(),new Promise((e,t)=>{let a=this.db.transaction(["api_cache"],"readwrite").objectStore("api_cache").openCursor();a.onerror=()=>t(a.error),a.onsuccess=t=>{let a=t.target.result;if(a){let e=a.value;Date.now()-e.timestamp>e.ttl&&a.delete(),a.continue()}else e()}})}constructor(){this.dbName="MumiiCache",this.version=1,this.db=null}}let n=new i;function r(){let[e,t]=(0,s.useState)([]),[a,i]=(0,s.useState)(!0);(0,s.useEffect)(()=>{r()},[]);let r=async()=>{try{let e=await n.getFavoriteRestaurants();t(e)}catch(e){console.error("Failed to load favorites:",e)}finally{i(!1)}};return{favorites:e,loading:a,addFavorite:async e=>{try{await n.saveFavoriteRestaurant(e),t(t=>[...t.filter(t=>t.id!==e.id),e])}catch(e){console.error("Failed to add favorite:",e)}},removeFavorite:async e=>{try{await n.removeFavoriteRestaurant(e),t(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Failed to remove favorite:",e)}},isFavorite:t=>e.some(e=>e.id===t),refresh:r}}function c(){let[e,t]=(0,s.useState)(navigator.onLine);return(0,s.useEffect)(()=>{let e=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",a),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",a)}},[]),e}n.init().catch(console.error)},7406:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9037).A)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},7708:(e,t,a)=>{"use strict";a.d(t,{TY:()=>i.NotificationSettings,Tf:()=>n.SocialShare,mc:()=>s.Container,u6:()=>r.GoogleMap,wn:()=>s.Section}),a(4535),a(6497);var s=a(1932),i=a(7972);a(2935);var n=a(6488),r=a(803);a(7077),a(61)}},e=>{e.O(0,[728,223,146,284,587,902,358],()=>e(e.s=1094)),_N_E=e.O()}]);