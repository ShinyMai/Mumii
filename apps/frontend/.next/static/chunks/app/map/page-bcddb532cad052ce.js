(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[823],{675:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var s=a(4568),i=a(7708),r=a(9457),n=a(7179),c=a(7620);let l=(0,a(9037).A)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);var o=a(7406),d=a(1686),m=a(5890),h=a(4150),u=a(3262);let x=[{id:"1",name:"B\xfan Chả Hương Li\xean",cuisine:"Vietnamese",rating:4.8,priceRange:"50,000 - 100,000 VND",distance:"0.5 km",image:"/api/placeholder/300/200",description:"Famous bun cha where Obama dined with Anthony Bourdain",coordinates:{lat:21.0285,lng:105.8542},isHiddenGem:!0,isFavorite:!1},{id:"2",name:"Madame Hi\xean",cuisine:"Vietnamese Fusion",rating:4.6,priceRange:"200,000 - 500,000 VND",distance:"1.2 km",image:"/api/placeholder/300/200",description:"Elegant Vietnamese cuisine in a French colonial villa",coordinates:{lat:21.0245,lng:105.8412},isHiddenGem:!1,isFavorite:!1},{id:"3",name:"Phở G\xe0 Nghĩa T\xe2n",cuisine:"Vietnamese",rating:4.9,priceRange:"30,000 - 60,000 VND",distance:"2.1 km",image:"/api/placeholder/300/200",description:"Best chicken pho in the old quarter, family recipe since 1960s",coordinates:{lat:21.0375,lng:105.8485},isHiddenGem:!0,isFavorite:!0},{id:"4",name:"Green Tangerine",cuisine:"French-Vietnamese",rating:4.7,priceRange:"400,000 - 800,000 VND",distance:"1.8 km",image:"/api/placeholder/300/200",description:"Refined French cuisine with Vietnamese influences in a colonial mansion",coordinates:{lat:21.0291,lng:105.8521},isHiddenGem:!1,isFavorite:!1},{id:"5",name:"B\xe1nh Cuốn B\xe0 Xu\xe2n",cuisine:"Vietnamese",rating:4.5,priceRange:"25,000 - 50,000 VND",distance:"0.8 km",image:"/api/placeholder/300/200",description:"Traditional rice rolls with the most delicate texture in Hanoi",coordinates:{lat:21.032,lng:105.851},isHiddenGem:!0,isFavorite:!1},{id:"6",name:"Cầu Gỗ Restaurant",cuisine:"Vietnamese Seafood",rating:4.4,priceRange:"150,000 - 300,000 VND",distance:"2.5 km",image:"/api/placeholder/300/200",description:"Fresh seafood with stunning lake views and live music",coordinates:{lat:21.02,lng:105.845},isHiddenGem:!1,isFavorite:!1}];function g(){let{t:e}=(0,r.s)("common"),{addFavorite:t,removeFavorite:a,isFavorite:g}=(0,n.rB)(),[p,b]=(0,c.useState)(null),[y,v]=(0,c.useState)(!1),[f,w]=(0,c.useState)("all"),[j,N]=(0,c.useState)(0),k=x.filter(e=>{let t=!y||e.isHiddenGem,a="all"===f||e.cuisine.toLowerCase().includes(f.toLowerCase()),s=e.rating>=j;return t&&a&&s}).map(e=>({...e,isFavorite:g(e.id)})),D=async e=>{g(e.id)?await a(e.id):await t({id:e.id,name:e.name,cuisine:e.cuisine,location:e.distance,rating:e.rating,priceRange:e.priceRange,coordinates:e.coordinates,image:e.image,description:e.description,features:[],hours:"9:00 AM - 10:00 PM",cached:!0})};return(0,s.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,s.jsx)(i.wn,{background:"white",children:(0,s.jsx)(i.mc,{children:(0,s.jsxs)("div",{className:"py-4 sm:py-6",children:[(0,s.jsxs)("div",{className:"text-center mb-4 sm:mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"\uD83D\uDDFA️ Interactive Food Map"}),(0,s.jsx)("p",{className:"text-base sm:text-lg text-gray-600",children:"Discover hidden culinary gems around you"})]}),"            ",(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4 justify-center",children:[(0,s.jsx)("button",{onClick:()=>v(!y),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat(y?"bg-purple-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:"\uD83D\uDC8E Hidden Gems Only"}),(0,s.jsx)("button",{onClick:()=>w("vietnamese"===f?"all":"vietnamese"),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat("vietnamese"===f?"bg-green-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:"\uD83C\uDF5C Vietnamese"}),(0,s.jsx)("button",{onClick:()=>N(4.5*(4.5!==j)),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat(4.5===j?"bg-yellow-600 text-white":"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50"),children:"⭐ 4.5+ Rating"})]}),(0,s.jsx)("div",{className:"relative rounded-xl mb-6 overflow-hidden shadow-lg",children:(0,s.jsx)(i.u6,{restaurants:k,center:{lat:21.0285,lng:105.8542},onRestaurantSelect:e=>{b(e)},className:"h-64 sm:h-80 md:h-96"})}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map(e=>(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border cursor-pointer transition-all hover:shadow-md ".concat((null==p?void 0:p.id)===e.id?"ring-2 ring-blue-500":""),onClick:()=>b(e),children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"aspect-video bg-gray-200 rounded-t-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-4xl",children:"\uD83C\uDF5C"})}),e.isHiddenGem&&(0,s.jsx)("div",{className:"absolute top-2 left-2 bg-purple-600 text-white px-2 py-1 rounded-full text-xs font-medium",children:"\uD83D\uDC8E Hidden Gem"}),(0,s.jsx)("button",{className:"absolute top-2 right-2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-opacity",children:(0,s.jsx)(l,{className:"h-4 w-4"})})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg text-gray-900 mb-1",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.cuisine}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 mb-2",children:[(0,s.jsx)(o.A,{className:"h-4 w-4 text-yellow-500 fill-current"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.rating}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:"•"}),(0,s.jsx)("span",{className:"text-sm text-gray-500",children:e.distance})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 mb-3",children:[(0,s.jsx)(d.A,{className:"h-4 w-4 text-green-600"}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:e.priceRange})]}),(0,s.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:e.description}),"                    ",(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>b(e),className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors",children:"Xem chi tiết"}),(0,s.jsx)("button",{onClick:t=>{t.stopPropagation(),D(e)},className:"flex items-center justify-center w-10 h-10 rounded-lg transition-colors ".concat(g(e.id)?"bg-red-100 text-red-600 border border-red-200":"border border-gray-300 hover:bg-gray-50"),children:(0,s.jsx)(m.A,{className:"h-4 w-4 ".concat(g(e.id)?"fill-current text-red-600":"text-gray-600")})})]})]})]},e.id))}),p&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-end sm:items-center justify-center z-50 p-4",children:(0,s.jsx)("div",{className:"bg-white rounded-t-xl sm:rounded-xl max-w-md w-full max-h-[80vh] overflow-y-auto",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:p.name}),"                      ",(0,s.jsx)("button",{onClick:()=>b(null),className:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:(0,s.jsx)(h.A,{className:"w-5 h-5"})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"aspect-video bg-gray-200 rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-6xl",children:"\uD83C\uDF5C"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(o.A,{className:"h-5 w-5 text-yellow-500 fill-current"}),(0,s.jsx)("span",{className:"font-medium",children:p.rating}),(0,s.jsx)("span",{className:"text-gray-500",children:"•"}),(0,s.jsx)("span",{className:"text-gray-600",children:p.cuisine})]}),(0,s.jsx)("p",{className:"text-gray-600",children:p.description}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(u.A,{className:"h-4 w-4 text-blue-600"}),(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:[p.distance," away"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.A,{className:"h-4 w-4 text-green-600"}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:p.priceRange})]})]}),"                      ",(0,s.jsxs)("div",{className:"flex space-x-2 pt-4",children:[(0,s.jsxs)("button",{onClick:()=>D(p),className:"flex items-center justify-center space-x-2 px-4 py-3 rounded-lg font-medium transition-colors ".concat(g(p.id)?"bg-red-100 text-red-600 border border-red-200":"bg-gray-100 text-gray-600 border border-gray-200 hover:bg-gray-200"),children:[(0,s.jsx)(m.A,{className:"w-4 h-4 ".concat(g(p.id)?"fill-current":"")}),(0,s.jsx)("span",{className:"text-sm",children:g(p.id)?"Đ\xe3 lưu":"Lưu"})]}),(0,s.jsx)("button",{className:"flex-1 bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Chỉ đường"})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(i.Tf,{title:p.name,description:p.description,hashtags:["Mumii","FoodTravel",p.cuisine.replace(/\s+/g,"")]})})]})]})})})]})})})})}},1686:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9037).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},2243:(e,t,a)=>{Promise.resolve().then(a.bind(a,675))},5890:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9037).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},7179:(e,t,a)=>{"use strict";a.d(t,{rB:()=>n,dk:()=>c});var s=a(7620);class i{async init(){return new Promise((e,t)=>{let a=indexedDB.open(this.dbName,this.version);a.onerror=()=>t(a.error),a.onsuccess=()=>{this.db=a.result,e()},a.onupgradeneeded=e=>{let t=e.target.result;if(!t.objectStoreNames.contains("restaurants")){let e=t.createObjectStore("restaurants",{keyPath:"id"});e.createIndex("location","location",{unique:!1}),e.createIndex("cuisine","cuisine",{unique:!1})}t.objectStoreNames.contains("itineraries")||t.createObjectStore("itineraries",{keyPath:"id"}),t.objectStoreNames.contains("challenges")||t.createObjectStore("challenges",{keyPath:"id"}),t.objectStoreNames.contains("user_data")||t.createObjectStore("user_data",{keyPath:"key"}),t.objectStoreNames.contains("api_cache")||t.createObjectStore("api_cache",{keyPath:"url"}).createIndex("timestamp","timestamp",{unique:!1})}})}async set(e,t){return this.db||await this.init(),new Promise((a,s)=>{let i=this.db.transaction([e],"readwrite").objectStore(e).put(t);i.onerror=()=>s(i.error),i.onsuccess=()=>a()})}async get(e,t){return this.db||await this.init(),new Promise((a,s)=>{let i=this.db.transaction([e],"readonly").objectStore(e).get(t);i.onerror=()=>s(i.error),i.onsuccess=()=>a(i.result)})}async getAll(e){return this.db||await this.init(),new Promise((t,a)=>{let s=this.db.transaction([e],"readonly").objectStore(e).getAll();s.onerror=()=>a(s.error),s.onsuccess=()=>t(s.result)})}async delete(e,t){return this.db||await this.init(),new Promise((a,s)=>{let i=this.db.transaction([e],"readwrite").objectStore(e).delete(t);i.onerror=()=>s(i.error),i.onsuccess=()=>a()})}async clear(e){return this.db||await this.init(),new Promise((t,a)=>{let s=this.db.transaction([e],"readwrite").objectStore(e).clear();s.onerror=()=>a(s.error),s.onsuccess=()=>t()})}async cacheApiResponse(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e5,s={url:e,data:t,timestamp:Date.now(),ttl:a};await this.set("api_cache",s)}async getCachedApiResponse(e){let t=await this.get("api_cache",e);return t?Date.now()-t.timestamp>t.ttl?(await this.delete("api_cache",e),null):t.data:null}async saveFavoriteRestaurant(e){let t=[...(await this.getUserData("favorites")||[]).filter(t=>t.id!==e.id),e];await this.setUserData("favorites",t)}async removeFavoriteRestaurant(e){let t=(await this.getUserData("favorites")||[]).filter(t=>t.id!==e);await this.setUserData("favorites",t)}async getFavoriteRestaurants(){return await this.getUserData("favorites")||[]}async setUserData(e,t){await this.set("user_data",{key:e,value:t})}async getUserData(e){let t=await this.get("user_data",e);return null==t?void 0:t.value}async cleanExpiredCache(){return this.db||await this.init(),new Promise((e,t)=>{let a=this.db.transaction(["api_cache"],"readwrite").objectStore("api_cache").openCursor();a.onerror=()=>t(a.error),a.onsuccess=t=>{let a=t.target.result;if(a){let e=a.value;Date.now()-e.timestamp>e.ttl&&a.delete(),a.continue()}else e()}})}constructor(){this.dbName="MumiiCache",this.version=1,this.db=null}}let r=new i;function n(){let[e,t]=(0,s.useState)([]),[a,i]=(0,s.useState)(!0);(0,s.useEffect)(()=>{n()},[]);let n=async()=>{try{let e=await r.getFavoriteRestaurants();t(e)}catch(e){console.error("Failed to load favorites:",e)}finally{i(!1)}};return{favorites:e,loading:a,addFavorite:async e=>{try{await r.saveFavoriteRestaurant(e),t(t=>[...t.filter(t=>t.id!==e.id),e])}catch(e){console.error("Failed to add favorite:",e)}},removeFavorite:async e=>{try{await r.removeFavoriteRestaurant(e),t(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Failed to remove favorite:",e)}},isFavorite:t=>e.some(e=>e.id===t),refresh:n}}function c(){let[e,t]=(0,s.useState)(navigator.onLine);return(0,s.useEffect)(()=>{let e=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",a),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",a)}},[]),e}r.init().catch(console.error)},7406:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9037).A)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},7708:(e,t,a)=>{"use strict";a.d(t,{TY:()=>i.NotificationSettings,Tf:()=>r.SocialShare,mc:()=>s.Container,u6:()=>n.GoogleMap,wn:()=>s.Section}),a(4535),a(6497);var s=a(1932),i=a(7972);a(2935);var r=a(6488),n=a(803);a(7077),a(61)}},e=>{e.O(0,[728,223,146,284,587,902,358],()=>e(e.s=2243)),_N_E=e.O()}]);